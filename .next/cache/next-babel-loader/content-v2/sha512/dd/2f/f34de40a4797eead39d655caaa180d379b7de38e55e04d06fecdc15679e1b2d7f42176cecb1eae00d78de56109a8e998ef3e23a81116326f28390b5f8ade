{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { cartActions } from \"./cart-slice\";\nimport useHttp from \"../hooks/use-http\";\nvar url = \"https://react-http-3d73c-default-rtdb.firebaseio.com/orangecart.json\"; //read\n\nexport var fetchingCartData = function fetchingCartData() {\n  _s();\n\n  //會自動 export action({type:'addToCart',ammount:1}) 也可以直接export方法出去\n  var _useHttp = useHttp(),\n      isLoading = _useHttp.isLoading,\n      error = _useHttp.error,\n      sendRequest = _useHttp.sendRequest;\n\n  var applyData = function applyData(data) {\n    dispatch(cartActions.replaceCart({\n      items: data.items || [],\n      totalQuantity: data.totalQuantity\n    })); //當物件全刪，firebase totalQuantity=0 items 會消失，重刷執行replaceCart會map不到items，因此給預設值空[]\n  };\n\n  var reqeustData = {\n    url: url,\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }; // sendRequest(reqeustData, applyData);\n}; //update\n\n_s(fetchingCartData, \"CCnshfZlH2rzEybPx6MnKYOG61s=\", false, function () {\n  return [useHttp];\n});\n\nexport var sendingCartData = function sendingCartData(cartData) {\n  _s2();\n\n  var _useHttp2 = useHttp(),\n      isLoading = _useHttp2.isLoading,\n      error = _useHttp2.error,\n      sendRequest = _useHttp2.sendRequest;\n\n  var applyData = function applyData(data) {\n    console.log(\"Sent cart successfully\");\n  };\n\n  var reqeustData = {\n    url: url,\n    method: \"PUT\",\n    body: {\n      items: cartData.items,\n      totalQuantity: cartData.totalQuantity\n    }\n  }; // sendRequest(reqeustData, applyData);\n};\n\n_s2(sendingCartData, \"CCnshfZlH2rzEybPx6MnKYOG61s=\", false, function () {\n  return [useHttp];\n});","map":{"version":3,"sources":["/Users/zhengyiting/ReactProjects/orange-web/store/cart-action.js"],"names":["cartActions","useHttp","url","fetchingCartData","isLoading","error","sendRequest","applyData","data","dispatch","replaceCart","items","totalQuantity","reqeustData","method","headers","sendingCartData","cartData","console","log","body"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AAEA,IAAMC,GAAG,GACP,sEADF,C,CAGA;;AACA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAAA;;AACpC;AADoC,iBAEIF,OAAO,EAFX;AAAA,MAE9BG,SAF8B,YAE9BA,SAF8B;AAAA,MAEnBC,KAFmB,YAEnBA,KAFmB;AAAA,MAEZC,WAFY,YAEZA,WAFY;;AAIlC,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAC1BC,IAAAA,QAAQ,CACNT,WAAW,CAACU,WAAZ,CAAwB;AACtBC,MAAAA,KAAK,EAAEH,IAAI,CAACG,KAAL,IAAc,EADC;AAEtBC,MAAAA,aAAa,EAAEJ,IAAI,CAACI;AAFE,KAAxB,CADM,CAAR,CAD0B,CAO1B;AACD,GARD;;AASA,MAAMC,WAAW,GAAG;AAClBX,IAAAA,GAAG,EAAEA,GADa;AAElBY,IAAAA,MAAM,EAAE,KAFU;AAGlBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAHS,GAApB,CAbkC,CAoBpC;AACD,CArBM,C,CAuBP;;GAvBaZ,gB;UAE6BF,O;;;AAsB1C,OAAO,IAAMe,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAAc;AAAA;;AAAA,kBACDhB,OAAO,EADN;AAAA,MACnCG,SADmC,aACnCA,SADmC;AAAA,MACxBC,KADwB,aACxBA,KADwB;AAAA,MACjBC,WADiB,aACjBA,WADiB;;AAGzC,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAC1BU,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,GAFD;;AAIA,MAAMN,WAAW,GAAG;AAClBX,IAAAA,GAAG,EAAEA,GADa;AAElBY,IAAAA,MAAM,EAAE,KAFU;AAGlBM,IAAAA,IAAI,EAAE;AACJT,MAAAA,KAAK,EAAEM,QAAQ,CAACN,KADZ;AAEJC,MAAAA,aAAa,EAAEK,QAAQ,CAACL;AAFpB;AAHY,GAApB,CAPyC,CAgBzC;AACH,CAjBM;;IAAMI,e;UAC+Bf,O","sourcesContent":["import { cartActions } from \"./cart-slice\";\nimport useHttp from \"../hooks/use-http\";\n\nconst url =\n  \"https://react-http-3d73c-default-rtdb.firebaseio.com/orangecart.json\";\n\n//read\nexport const fetchingCartData = () => {\n  //會自動 export action({type:'addToCart',ammount:1}) 也可以直接export方法出去\nconst { isLoading, error, sendRequest } = useHttp();\n \n    const applyData = (data) => {\n      dispatch(\n        cartActions.replaceCart({\n          items: data.items || [],\n          totalQuantity: data.totalQuantity,\n        })\n      );\n      //當物件全刪，firebase totalQuantity=0 items 會消失，重刷執行replaceCart會map不到items，因此給預設值空[]\n    };\n    const reqeustData = {\n      url: url,\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  // sendRequest(reqeustData, applyData);\n};\n\n//update\nexport const sendingCartData = (cartData) => {\n  const { isLoading, error, sendRequest } = useHttp();\n\n    const applyData = (data) => {\n      console.log(\"Sent cart successfully\");\n    };\n\n    const reqeustData = {\n      url: url,\n      method: \"PUT\",\n      body: {\n        items: cartData.items,\n        totalQuantity: cartData.totalQuantity,\n      },\n    };\n\n    // sendRequest(reqeustData, applyData);\n};\n"]},"metadata":{},"sourceType":"module"}