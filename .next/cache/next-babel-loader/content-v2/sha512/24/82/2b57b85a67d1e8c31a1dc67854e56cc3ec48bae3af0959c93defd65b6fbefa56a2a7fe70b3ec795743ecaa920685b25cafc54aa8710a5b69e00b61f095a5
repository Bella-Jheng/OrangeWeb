{"ast":null,"code":"import _regeneratorRuntime from \"/Users/zhengyiting/ReactProjects/orange-web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zhengyiting/ReactProjects/orange-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\n\nvar useHttp = function useHttp() {\n  _s();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var sendRequest = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(requestData) {\n      var response, _data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              setError(null);\n              _context.prev = 2;\n              _context.next = 5;\n              return fetch(requestData.url, {\n                method: requestData.method ? \"POST\" : \"GET\",\n                headers: requestData.headers ? requestData.headers : {},\n                body: JSON.stringify(requestData.body) ? JSON.stringify(requestData.body) : null\n              });\n\n            case 5:\n              response = _context.sent;\n\n              if (response.ok) {\n                _context.next = 8;\n                break;\n              }\n\n              throw new Error(\"Request failed!\");\n\n            case 8:\n              _context.next = 10;\n              return response.json();\n\n            case 10:\n              _data = _context.sent;\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](2);\n              setError(_context.t0.message || \"Something went wrong!\");\n\n            case 16:\n              setIsLoading(false);\n              return _context.abrupt(\"return\", data);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 13]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    sendRequest: sendRequest\n  };\n};\n\n_s(useHttp, \"FFcdbk+kTfFKRpY6eKN2uj4p9Os=\");\n\nexport default useHttp;","map":{"version":3,"sources":["/Users/zhengyiting/ReactProjects/orange-web/hooks/use-http.js"],"names":["useCallback","useState","useHttp","isLoading","setIsLoading","error","setError","sendRequest","requestData","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message"],"mappings":";;;;;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AAAA,kBACcD,QAAQ,CAAC,KAAD,CADtB;AAAA,MACbE,SADa;AAAA,MACFC,YADE;;AAAA,mBAEMH,QAAQ,CAAC,IAAD,CAFd;AAAA,MAEbI,KAFa;AAAA,MAENC,QAFM;;AAIpB,MAAMC,WAAW,GAAGP,WAAW;AAAA,wEAAC,iBAAOQ,WAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC9BJ,cAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,cAAAA,QAAQ,CAAC,IAAD,CAAR;AAF8B;AAAA;AAAA,qBAKLG,KAAK,CAACD,WAAW,CAACE,GAAb,EAAkB;AAC5CC,gBAAAA,MAAM,EAAEH,WAAW,CAACG,MAAZ,GAAqB,MAArB,GAA8B,KADM;AAE5CC,gBAAAA,OAAO,EAAEJ,WAAW,CAACI,OAAZ,GAAsBJ,WAAW,CAACI,OAAlC,GAA4C,EAFT;AAG5CC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,WAAW,CAACK,IAA3B,IACFC,IAAI,CAACC,SAAL,CAAeP,WAAW,CAACK,IAA3B,CADE,GAEF;AALwC,eAAlB,CALA;;AAAA;AAKtBG,cAAAA,QALsB;;AAAA,kBAavBA,QAAQ,CAACC,EAbc;AAAA;AAAA;AAAA;;AAAA,oBAcpB,IAAIC,KAAJ,CAAU,iBAAV,CAdoB;;AAAA;AAAA;AAAA,qBAgBTF,QAAQ,CAACG,IAAT,EAhBS;;AAAA;AAgBtBC,cAAAA,KAhBsB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAmB5Bd,cAAAA,QAAQ,CAAC,YAAMe,OAAN,IAAiB,uBAAlB,CAAR;;AAnB4B;AAqB9BjB,cAAAA,YAAY,CAAC,KAAD,CAAZ;AArB8B,+CAsBvBgB,IAtBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OAuB5B,EAvB4B,CAA/B;AAyBA,SAAM;AACFjB,IAAAA,SAAS,EAATA,SADE;AAEFE,IAAAA,KAAK,EAALA,KAFE;AAGFE,IAAAA,WAAW,EAAXA;AAHE,GAAN;AAKD,CAlCD;;GAAML,O;;AAoCN,eAAeA,OAAf","sourcesContent":["import { useCallback, useState } from \"react\";\n\nconst useHttp = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const sendRequest = useCallback(async (requestData) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(requestData.url, {\n        method: requestData.method ? \"POST\" : \"GET\",\n        headers: requestData.headers ? requestData.headers : {},\n        body: JSON.stringify(requestData.body)\n          ? JSON.stringify(requestData.body)\n          : null,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Request failed!\");\n      }\n      const data = await response.json();\n\n    } catch (error) {\n      setError(error.message || \"Something went wrong!\");\n    }\n    setIsLoading(false);\n    return data\n  }, []);\n\n  return{\n      isLoading,\n      error,\n      sendRequest\n  }\n};\n\nexport default useHttp;\n"]},"metadata":{},"sourceType":"module"}