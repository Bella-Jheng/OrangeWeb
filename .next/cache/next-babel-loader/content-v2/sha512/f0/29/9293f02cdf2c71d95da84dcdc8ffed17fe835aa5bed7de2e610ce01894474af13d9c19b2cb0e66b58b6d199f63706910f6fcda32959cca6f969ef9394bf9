{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport classes from \"./index.module.css\";\nimport { cartActions } from \"../../store/cart-slice\";\nimport Button, { GreenButton } from \"../../components/UI/Button\";\nimport Banner from \"../../components/layout/Banner\";\nimport Horizontal from \"../../components/UI/Horizantal\";\nimport { productDetails } from \"../../components/data\";\nimport { Add, Remove } from \"@mui/icons-material\";\n\nconst Index = () => {\n  const params = useRouter().query;\n  const {\n    productId\n  } = params;\n  const productObject = productDetails.find(({\n    id\n  }) => id === productId);\n  const {\n    id,\n    img,\n    name,\n    price,\n    size,\n    productImg,\n    intro,\n    description\n  } = productObject;\n  const dispatch = useDispatch();\n\n  const addToCartHandler = () => {\n    dispatch(cartActions.addToCart({\n      id,\n      img,\n      name,\n      price: thePrice.price,\n      size: thePrice.size ? thePrice.size : null,\n      quantity: amount\n    }));\n  }; //不同 size 的價格不同\n\n\n  const {\n    0: thePrice,\n    1: setThePrice\n  } = useState({\n    price: price[0],\n    size: size ? size[0] : null\n  });\n\n  const changePriceHandler = event => {\n    const value = event.target.value;\n    setThePrice({\n      price: price[value],\n      size: size[value]\n    });\n  }; //數量加減\n\n\n  const {\n    0: amount,\n    1: setAmount\n  } = useState(1);\n\n  const addAmountHandler = () => {\n    setAmount(prev => prev = prev + 1);\n  };\n\n  const removeAmountHandler = () => {\n    setAmount(prev => prev = prev - 1);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsx(Banner, {\n      title: \"\\u5546\\u54C1\\u8A73\\u60C5\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.wrapper,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: classes.imgContainer,\n        children: /*#__PURE__*/_jsx(\"img\", {\n          className: classes.image,\n          src: productImg\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: classes.infoContainer,\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: classes.title,\n          children: name\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          className: classes.price,\n          children: [\"$ \", thePrice.price]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: classes.description,\n          children: intro\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.filterContainer,\n          children: [size && /*#__PURE__*/_jsxs(\"div\", {\n            className: classes.filter,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: classes.filterTitle,\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(\"select\", {\n              className: classes.filterSize,\n              onChange: changePriceHandler,\n              children: size.map((theSize, index) => /*#__PURE__*/_jsx(\"option\", {\n                id: index,\n                value: index,\n                className: classes.filterSizeOption,\n                children: theSize\n              }))\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: classes.amountContainer,\n            children: [/*#__PURE__*/_jsx(Remove, {\n              onClick: removeAmountHandler\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: classes.amount,\n              children: amount\n            }), /*#__PURE__*/_jsx(Add, {\n              onClick: addAmountHandler\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.addContainer,\n          children: [/*#__PURE__*/_jsx(GreenButton, {\n            title: \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\",\n            onClick: addToCartHandler,\n            type: \"button\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: \"/checkout\",\n            children: /*#__PURE__*/_jsx(Button, {\n              title: \"\\u7ACB\\u523B\\u8CFC\\u8CB7\"\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: classes.detailContainer,\n        children: [/*#__PURE__*/_jsx(Horizontal, {\n          title: \"\\u5546\\u54C1\\u63CF\\u8FF0\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: classes.detail,\n          children: description\n        })]\n      })]\n    })]\n  });\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}